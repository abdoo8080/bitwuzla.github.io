<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C API Documentation &mdash; Bitwuzla  documentation</title>
      <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../static/documentation_options.js"></script>
        <script src="../static/jquery.js"></script>
        <script src="../static/underscore.js"></script>
        <script src="../static/doctools.js"></script>
        <script src="../static/tabs.js"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C Interface" href="interface.html" />
    <link rel="prev" title="Term Creation" href="../cpp/term_creation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Bitwuzla
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation and Build Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cpp/api.html">C++ API Documentation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">C API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="interface.html">C Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="enums/bitwuzlakind.html">Term Kinds</a></li>
<li class="toctree-l3"><a class="reference internal" href="sort_creation.html">Sort Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="term_creation.html">Term Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quickstart">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quickstart-example">Quickstart Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incremental-example-with-push-and-pop">Incremental Example with push and pop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incremental-example-with-check-sat-assuming">Incremental Example with check-sat-assuming</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unsat-core-example">Unsat Core Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unsat-assumptions-example">Unsat Assumptions Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reset-example">Reset Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reset-assertions-example">Reset Assertions Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsing-example">Parsing Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#termination-callback-example">Termination Callback Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../python/api.html">Python API Documentation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bitwuzla</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">C API Documentation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="c-api-documentation">
<h1>C API Documentation<a class="headerlink" href="#c-api-documentation" title="Permalink to this headline"></a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="interface.html">C Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="enums/bitwuzlakind.html">Term Kinds</a></li>
<li class="toctree-l1"><a class="reference internal" href="sort_creation.html">Sort Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="term_creation.html">Term Creation</a></li>
</ul>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#quickstart" id="id4">Quickstart</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#quickstart-example" id="id6">Quickstart Example</a></p></li>
<li><p><a class="reference internal" href="#incremental-example-with-push-and-pop" id="id7">Incremental Example with push and pop</a></p></li>
<li><p><a class="reference internal" href="#incremental-example-with-check-sat-assuming" id="id8">Incremental Example with check-sat-assuming</a></p></li>
<li><p><a class="reference internal" href="#unsat-core-example" id="id9">Unsat Core Example</a></p></li>
<li><p><a class="reference internal" href="#unsat-assumptions-example" id="id10">Unsat Assumptions Example</a></p></li>
<li><p><a class="reference internal" href="#reset-example" id="id11">Reset Example</a></p></li>
<li><p><a class="reference internal" href="#reset-assertions-example" id="id12">Reset Assertions Example</a></p></li>
<li><p><a class="reference internal" href="#parsing-example" id="id13">Parsing Example</a></p></li>
<li><p><a class="reference internal" href="#termination-callback-example" id="id14">Termination Callback Example</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="quickstart">
<h2><a class="toc-backref" href="#id4">Quickstart</a><a class="headerlink" href="#quickstart" title="Permalink to this headline"></a></h2>
<p>First, create a <a class="reference internal" href="types/bitwuzlaoptions.html#_CPPv415BitwuzlaOptions" title="BitwuzlaOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">BitwuzlaOptions</span></code></a> instance:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">*/</span>
</pre></div>
</div>
<p>This instance can be configured via <a class="reference internal" href="types/bitwuzlaoptions.html#_CPPv419bitwuzla_set_optionP15BitwuzlaOptions14BitwuzlaOption8uint64_t" title="bitwuzla_set_option"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_set_option()</span></code></a>.
For example, to enable model generation
(SMT-LIB: <code class="code docutils literal notranslate"><span class="pre">(set-option</span> <span class="pre">:produce-models</span> <span class="pre">true)</span></code>):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
</pre></div>
</div>
<p>Some options have modes, which can be configured via the string representation
of their modes. For example, to enable CaDiCaL as back end SAT solver (this
is for illustration purposes only, CaDiCaL is configured by default):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>For more details on available options, see <span class="xref std std-doc">c/options</span>.</p>
<p>Then, create a <a class="reference internal" href="types/bitwuzla.html#_CPPv48Bitwuzla" title="Bitwuzla"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">Bitwuzla</span></code></a> instance (configuration options are
now frozen and cannot be changed for this instance):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
</pre></div>
</div>
<p>Next, you will want to create some expressions and assert formulas.
For example, consider the following SMT-LIB input:</p>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(<span class="k">set-logic</span> QF_ABV)
(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-const</span> <span class="n">y</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-fun</span> <span class="n">f</span> ((_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">4</span>)) (_ <span class="na">BitVec</span> <span class="m">8</span>))
(<span class="k">declare-const</span> <span class="n">a</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)))
(<span class="k">assert</span>
    (<span class="o">distinct</span>
        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvsdiv</span> <span class="n">x</span> (_ bv2 <span class="m">8</span>)))
        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvashr</span> <span class="n">y</span> (_ bv1 <span class="m">8</span>)))))
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">f</span> <span class="n">x</span> ((_ <span class="o">extract</span> <span class="m">6</span> <span class="m">3</span>) <span class="n">x</span>)) <span class="n">y</span>))
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">select</span> <span class="n">a</span> <span class="n">x</span>) <span class="n">y</span>))
(<span class="k">check-sat</span>)
(<span class="k">get-model</span>)
(<span class="k">get-value</span> (<span class="n">x</span> <span class="n">y</span> <span class="n">f</span> <span class="n">a</span> (<span class="o">bvmul</span> <span class="n">x</span> <span class="n">x</span>)))
(<span class="k">exit</span>)
</pre></div>
</div>
<p>This input is created and asserted as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">https</span><span class="o">:</span><span class="c1">//github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="w"> </span><span class="o">*/</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">int</span>
<span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="w">  </span><span class="c1">// Then, enable model generation.</span>
<span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Now, for illustration purposes, we enable CaDiCaL as SAT solver</span>
<span class="w">  </span><span class="c1">// (CaDiCaL is already configured by default).</span>
<span class="w">  </span><span class="c1">// Note: This will silently fall back to one of the compiled in SAT solvers</span>
<span class="w">  </span><span class="c1">//       if the selected solver is not compiled in.</span>
<span class="w">  </span><span class="n">bitwuzla_set_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_SAT_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cadical&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Create bit-vector sorts of size 4 and 8.</span>
<span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create function sort.</span>
<span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">domain</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">};</span>
<span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfun</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fun_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create array sort.</span>
<span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_array_sort</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Create two bit-vector constants of that sort.</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create fun const.</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortfun</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create array const.</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortarr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Create bit-vector values one and two of the same sort.</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Alternatively, you can create bit-vector value one with:</span>
<span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value(sortbv8, &quot;1&quot;, 2);</span>
<span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value_uint64(sortbv8, 1);</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// (bvsdiv x (_ bv2 8))</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_SDIV</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">two</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// (bvashr y (_ bv1 8))</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ASHR</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdive</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">sdiv</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashre</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">ashr</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// (assert</span>
<span class="w">  </span><span class="c1">//     (distinct</span>
<span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_DISTINCT</span><span class="p">,</span><span class="w"> </span><span class="n">sdive</span><span class="p">,</span><span class="w"> </span><span class="n">ashre</span><span class="p">));</span>
<span class="w">  </span><span class="c1">// (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span>
<span class="w">                                        </span><span class="n">f</span><span class="p">,</span>
</pre></div>
</div>
<p>Alternatively, you can parse an input file in BTOR2 format <span id="id1">[<a class="reference internal" href="../references.html#id4" title="Aina Niemetz, Mathias Preiner, Clifford Wolf, and Armin Biere. Btor2 , BtorMC and Boolector 3.0. In Hana Chockler and Georg Weissenbacher, editors, Computer Aided Verification - 30th International Conference, CAV 2018, Held as Part of the Federated Logic Conference, FloC 2018, Oxford, UK, July 14-17, 2018, Proceedings, Part I, volume 10981 of Lecture Notes in Computer Science, 587–595. Springer, 2018. doi:10.1007/978-3-319-96145-3\_32.">NPWB18</a>]</span> or
SMT-LIB v2 format <span id="id2">[<a class="reference internal" href="../references.html#id5" title="Clark Barrett, Pascal Fontaine, and Cesare Tinelli. The SMT-LIB Standard: Version 2.6. Technical Report, Department of Computer Science, The University of Iowa, 2017. URL: https://smtlib.cs.uiowa.edu/papers/smt-lib-reference-v2.6-r2017-07-18.pdf.">BFT17</a>]</span> by creating a parser via
<a class="reference internal" href="types/bitwuzlaparser.html#_CPPv419bitwuzla_parser_newP15BitwuzlaOptionsPKcP4FILEPKc" title="bitwuzla_parser_new"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_parser_new()</span></code></a> and then parsing the input file via
<a class="reference internal" href="types/bitwuzlaparser.html#_CPPv421bitwuzla_parser_parseP14BitwuzlaParserb" title="bitwuzla_parser_parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_parser_parse()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The input parser creates a <a class="reference internal" href="types/bitwuzla.html#_CPPv48Bitwuzla" title="Bitwuzla"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">Bitwuzla</span></code></a> instance, which can be
configured via the <a class="reference internal" href="types/bitwuzlaoptions.html#_CPPv415BitwuzlaOptions" title="BitwuzlaOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">BitwuzlaOptions</span></code></a> instance passed into the
parser. This Bitwuzla instance can be retrieved via
<a class="reference internal" href="types/bitwuzlaparser.html#_CPPv428bitwuzla_parser_get_bitwuzlaP14BitwuzlaParser" title="bitwuzla_parser_get_bitwuzla"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_parser_get_bitwuzla()</span></code></a>.</p>
</div>
<p>For example, to parse an example file <cite>examples/smt2/quickstart.smt2</cite> in SMT-LIB format:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">*/</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/parser.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>

<span class="kt">int</span>
<span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// We will parse example file `smt2/quickstart.smt2`.</span>
<span class="w">  </span><span class="c1">// Create parser instance.</span>
<span class="w">  </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">infile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">infile</span><span class="p">);</span>
<span class="w">  </span><span class="n">BitwuzlaParser</span><span class="o">*</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the input is given in SMT-LIB format, commands like <code class="code docutils literal notranslate"><span class="pre">check-sat</span></code>
or <code class="code docutils literal notranslate"><span class="pre">get-value</span></code> will be executed while parsing if argument <cite>parse_only</cite>
is passed into <a class="reference internal" href="types/bitwuzlaparser.html#_CPPv421bitwuzla_parser_parseP14BitwuzlaParserb" title="bitwuzla_parser_parse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_parser_parse()</span></code></a> as <code class="code docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<p>After parsing an input file and asserting formulas,
satisfiability can be determined via <a class="reference internal" href="types/bitwuzla.html#_CPPv418bitwuzla_check_satP8Bitwuzla" title="bitwuzla_check_sat"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_check_sat()</span></code></a>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">                                        </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="w">                                            </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)),</span>
</pre></div>
</div>
<p>Formulas can also be assumed via <a class="reference internal" href="types/bitwuzla.html#_CPPv427bitwuzla_check_sat_assumingP8Bitwuzla8uint32_tA_12BitwuzlaTerm" title="bitwuzla_check_sat_assuming"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_check_sat_assuming()</span></code></a>.</p>
<p>If the formula is satisfiable and model generation has been enabled, the
resulting model can be printed via <a class="reference internal" href="types/bitwuzla.html#_CPPv418bitwuzla_get_valueP8Bitwuzla12BitwuzlaTerm" title="bitwuzla_get_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_get_value()</span></code></a> and
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv423bitwuzla_term_to_string12BitwuzlaTerm" title="bitwuzla_term_to_string"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_to_string()</span></code></a>. An example implementation illustrating
how to print the current model via declared symbols (in this case <code class="code docutils literal notranslate"><span class="pre">x</span></code>,
<code class="code docutils literal notranslate"><span class="pre">y</span></code>, <code class="code docutils literal notranslate"><span class="pre">f</span></code> and <code class="code docutils literal notranslate"><span class="pre">a</span></code>) is below:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>

<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// Print model in SMT-LIBv2 format.</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Model:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">};</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s (&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_sort_is_fun</span><span class="p">(</span><span class="n">sort</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_term_get_kind</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">)</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s(%s %s) &quot;</span><span class="p">,</span>
<span class="w">               </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="w">               </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="w">        </span><span class="n">value</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="w">        </span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="w">      </span><span class="c1">// Note: The returned string of bitwuzla_term_to_string and</span>
<span class="w">      </span><span class="c1">//       bitwuzla_sort_to_string does not have to be freed, but is only</span>
<span class="w">      </span><span class="c1">//       valid until the next call to the respective function. Thus we</span>
<span class="w">      </span><span class="c1">//       split printing into separate printf calls so that none of these</span>
<span class="w">      </span><span class="c1">//       functions is called more than once in one printf call.</span>
<span class="w">      </span><span class="c1">//       Alternatively, we could also first get and copy the strings, use</span>
<span class="w">      </span><span class="c1">//       a single printf call, and then free the copied strings.</span>
<span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s(%s %s)) &quot;</span><span class="p">,</span>
<span class="w">             </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s&quot;</span><span class="p">,</span>
<span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_sort_fun_get_codomain</span><span class="p">(</span><span class="n">sort</span><span class="p">)));</span>
</pre></div>
</div>
<p>This will output a possible model, in this case:</p>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(
  (<span class="k">define-fun</span> <span class="n">x</span> () (_ <span class="na">BitVec</span> <span class="m">8</span>) #b10011111)
  (<span class="k">define-fun</span> <span class="n">y</span> () (_ <span class="na">BitVec</span> <span class="m">8</span>) #b11111111)
  (<span class="k">define-fun</span> <span class="n">f</span> ((@bzla.var_<span class="m">74</span> (_ <span class="na">BitVec</span> <span class="m">8</span>)) (@bzla.var_<span class="m">75</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))) (_ <span class="na">BitVec</span> <span class="m">8</span>) (<span class="o">ite</span> (<span class="o">and</span> (<span class="o">=</span> @bzla.var_<span class="m">74</span> #b10011111) (<span class="o">=</span> @bzla.var_<span class="m">75</span> #b0011)) #b11111111 #b00000000))
  (<span class="k">define-fun</span> <span class="n">a</span> () (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)) (<span class="n">store</span> ((<span class="n">as</span> <span class="n">const</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>))) #b00000000) #b10011111 #b11111111))
)
</pre></div>
</div>
<p>Alternatively, it is possible to query the value of terms as assignment
string via <a class="reference internal" href="types/bitwuzlaterm.html#_CPPv427bitwuzla_term_value_get_str12BitwuzlaTerm7uint8_t" title="bitwuzla_term_value_get_str"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_value_get_str()</span></code></a>, or as a term via
<a class="reference internal" href="types/bitwuzla.html#_CPPv418bitwuzla_get_valueP8Bitwuzla12BitwuzlaTerm" title="bitwuzla_get_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_get_value()</span></code></a>.</p>
<p>Additionally, for floating-point values,
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv431bitwuzla_term_value_get_fp_ieee12BitwuzlaTermPPKcPPKcPPKc7uint8_t" title="bitwuzla_term_value_get_fp_ieee"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_value_get_fp_ieee()</span></code></a> allows to retrieve the assignment
split into assignment strings for the sign bit, the exponent and the
significand.
For Boolean and <code class="code docutils literal notranslate"><span class="pre">RoundingMode</span></code> values,
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv428bitwuzla_term_value_get_bool12BitwuzlaTerm" title="bitwuzla_term_value_get_bool"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_value_get_bool()</span></code></a> and
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv426bitwuzla_term_value_get_rm12BitwuzlaTerm" title="bitwuzla_term_value_get_rm"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_value_get_rm()</span></code></a> allow the values as <code class="code docutils literal notranslate"><span class="pre">bool</span></code> and
<a class="reference internal" href="enums/bitwuzlaroundingmode.html#_CPPv420BitwuzlaRoundingMode" title="BitwuzlaRoundingMode"><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">BitwuzlaRoundingMode</span></code></a>, respectively.</p>
<p>In our case, we can query the assignments of <code class="code docutils literal notranslate"><span class="pre">x</span></code> and <code class="code docutils literal notranslate"><span class="pre">y</span></code>, both
bit-vector terms, as binary strings:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">sort</span><span class="p">),</span>
<span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">])));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span> <span class="mi">10011111</span>
<span class="n">value</span> <span class="n">of</span> <span class="n">y</span><span class="p">:</span> <span class="mi">11111111</span>
</pre></div>
</div>
<p>The value of <code class="code docutils literal notranslate"><span class="pre">f</span></code> (a function term) and <code class="code docutils literal notranslate"><span class="pre">a</span></code> (an array term), on the
other hand, cannot be represented with a simple type. Thus, function values are
given as <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">BitwuzlaKind.LAMBDA</span></code>, and array
values are given as
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">BitwuzlaKind.ARRAY_STORE</span></code>.
We can retrieve an SMT-LIB2 string representation of the values via
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv423bitwuzla_term_to_string12BitwuzlaTerm" title="bitwuzla_term_to_string"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_to_string()</span></code></a>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// Print value for x, y, f and a.</span>
<span class="w">  </span><span class="c1">// Note: The returned string of bitwuzla_term_value_get_str is only valid</span>
<span class="w">  </span><span class="c1">//       until the next call to bitwuzla_term_value_get_str</span>
<span class="w">  </span><span class="c1">// Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="w">  </span><span class="c1">// value that can be printed via bitwuzla_term_value_get_str().</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of y: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">to_string</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">f</span><span class="p">:</span>
<span class="p">(</span><span class="k">lambda</span> <span class="p">((</span><span class="nd">@bzla</span><span class="o">.</span><span class="n">var_74</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)))</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">((</span><span class="nd">@bzla</span><span class="o">.</span><span class="n">var_75</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">4</span><span class="p">)))</span> <span class="p">(</span><span class="n">ite</span> <span class="p">(</span><span class="ow">and</span> <span class="p">(</span><span class="o">=</span> <span class="nd">@bzla</span><span class="o">.</span><span class="n">var_74</span> <span class="c1">#b10011111) (= @bzla.var_75 #b0011)) #b11111111 #b00000000)))</span>

<span class="n">to_string</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">a</span><span class="p">:</span>
<span class="p">(</span><span class="n">store</span> <span class="p">((</span><span class="k">as</span> <span class="n">const</span> <span class="p">(</span><span class="n">Array</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)</span> <span class="p">(</span><span class="n">_</span> <span class="n">BitVec</span> <span class="mi">8</span><span class="p">)))</span> <span class="c1">#b00000000) #b10011111 #b11111111)</span>
</pre></div>
</div>
<p>Note that the string representation of values representable as simple type
(bit-vectors, boolean, floating-point, rounding mode) are given as pure
value string (in the given number format) via
<a class="reference internal" href="types/bitwuzlaterm.html#_CPPv427bitwuzla_term_value_get_str12BitwuzlaTerm7uint8_t" title="bitwuzla_term_value_get_str"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_value_get_str()</span></code></a>.
Their string representation retrieved via <a class="reference internal" href="types/bitwuzlaterm.html#_CPPv423bitwuzla_term_to_string12BitwuzlaTerm" title="bitwuzla_term_to_string"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">bitwuzla_term_to_string()</span></code></a>,
however, is given in SMT-LIB2 format. For example,</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// via bitwuzla_term_to_string().</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of f:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)));</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of a:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">to_string</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span> <span class="c1">#b10011111</span>
<span class="n">to_string</span> <span class="n">representation</span> <span class="n">of</span> <span class="n">value</span> <span class="n">of</span> <span class="n">y</span><span class="p">:</span> <span class="c1">#b11111111</span>
</pre></div>
</div>
<p>It is also possible to query the model value of expressions that do not
occur in the input formula:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="c1">// pure assignment string, either in binary, hexadecimal or decimal format,</span>
<span class="w">  </span><span class="c1">// whereas bitwuzla_term_to_string() prints the value in SMT-LIB2 format</span>
<span class="w">  </span><span class="c1">// (in binary number format).</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>This will print:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="n">of</span> <span class="n">v</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">:</span> <span class="mi">11000001</span>
</pre></div>
</div>
<p>Finally, we delete the Bitwuzla and Bitwuzla options instance.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)));</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="line-block">
<div class="line">All examples can be found in directory <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples">examples</a>.</div>
<div class="line">For instructions on how to build these examples, see <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/README.md">examples/README.md</a>.</div>
</div>
<div class="section" id="quickstart-example">
<h3><a class="toc-backref" href="#id6">Quickstart Example</a><a class="headerlink" href="#quickstart-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">The example used in the <a class="reference internal" href="#quickstart"><span class="std std-ref">Quickstart</span></a> guide.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/quickstart.smt2">examples/smt2/quickstart.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/quickstart.c">examples/c/quickstart.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_ABV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">y</span> (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">f</span> ((_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">4</span>)) (_ <span class="na">BitVec</span> <span class="m">8</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">a</span> (<span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">8</span>) (_ <span class="na">BitVec</span> <span class="m">8</span>)))
<span class="linenos"> 7</span>(<span class="k">assert</span>
<span class="linenos"> 8</span>    (<span class="o">distinct</span>
<span class="linenos"> 9</span>        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvsdiv</span> <span class="n">x</span> (_ bv2 <span class="m">8</span>)))
<span class="linenos">10</span>        ((_ <span class="o">extract</span> <span class="m">3</span> <span class="m">0</span>) (<span class="o">bvashr</span> <span class="n">y</span> (_ bv1 <span class="m">8</span>)))))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">f</span> <span class="n">x</span> ((_ <span class="o">extract</span> <span class="m">6</span> <span class="m">3</span>) <span class="n">x</span>)) <span class="n">y</span>))
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">select</span> <span class="n">a</span> <span class="n">x</span>) <span class="n">y</span>))
<span class="linenos">13</span>(<span class="k">check-sat</span>)
<span class="linenos">14</span>(<span class="k">get-model</span>)
<span class="linenos">15</span>(<span class="k">get-value</span> (<span class="n">x</span> <span class="n">y</span> <span class="n">f</span> <span class="n">a</span> (<span class="o">bvmul</span> <span class="n">x</span> <span class="n">x</span>)))
<span class="linenos">16</span>(<span class="k">exit</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="kt">int</span>
<span class="linenos"> 16</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 17</span><span class="p">{</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// Then, enable model generation.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we enable CaDiCaL as SAT solver</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// (CaDiCaL is already configured by default).</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// Note: This will silently fall back to one of the compiled in SAT solvers</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">//       if the selected solver is not compiled in.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">bitwuzla_set_option_mode</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_SAT_SOLVER</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cadical&quot;</span><span class="p">);</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// Create bit-vector sorts of size 4 and 8.</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="c1">// Create function sort.</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">domain</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv4</span><span class="p">};</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfun</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fun_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// Create array sort.</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_array_sort</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="c1">// Create two bit-vector constants of that sort.</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="c1">// Create fun const.</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortfun</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="c1">// Create array const.</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortarr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create bit-vector values one and two of the same sort.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">);</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="c1">// Alternatively, you can create bit-vector value one with:</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value(sortbv8, &quot;1&quot;, 2);</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="c1">// BitwuzlaTerm one = bitwuzla_mk_bv_value_uint64(sortbv8, 1);</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="c1">// (bvsdiv x (_ bv2 8))</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdiv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_SDIV</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">two</span><span class="p">);</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">// (bvashr y (_ bv1 8))</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ASHR</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">sdive</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 59</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">sdiv</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 60</span><span class="w">  </span><span class="c1">// ((_ extract 3 0) (bvashr x (_ bv1 8)))</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">ashre</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 62</span><span class="w">      </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">ashr</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// (assert</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">//     (distinct</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvsdiv x (_ bv2 8)))</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="c1">//         ((_ extract 3 0) (bvashr y (_ bv1 8)))))</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_DISTINCT</span><span class="p">,</span><span class="w"> </span><span class="n">sdive</span><span class="p">,</span><span class="w"> </span><span class="n">ashre</span><span class="p">));</span>
<span class="linenos"> 70</span><span class="w">  </span><span class="c1">// (assert (= (f x ((_ extract 6 3) x)) y))</span>
<span class="linenos"> 71</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 73</span><span class="w">                      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 74</span><span class="w">                      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span>
<span class="linenos"> 75</span><span class="w">                                        </span><span class="n">f</span><span class="p">,</span>
<span class="linenos"> 76</span><span class="w">                                        </span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 77</span><span class="w">                                        </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 78</span><span class="w">                                            </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)),</span>
<span class="linenos"> 79</span><span class="w">                      </span><span class="n">y</span><span class="p">));</span>
<span class="linenos"> 80</span><span class="w">  </span><span class="c1">// (assert (= (select a x) y))</span>
<span class="linenos"> 81</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 82</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 83</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 84</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ARRAY_SELECT</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span>
<span class="linenos"> 85</span><span class="w">                        </span><span class="n">y</span><span class="p">));</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos"> 93</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos"> 94</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// Print model in SMT-LIBv2 format.</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Model:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">};</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">100</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">101</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">102</span><span class="w">    </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">103</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s (&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">104</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_sort_is_fun</span><span class="p">(</span><span class="n">sort</span><span class="p">))</span>
<span class="linenos">105</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">106</span><span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="linenos">107</span><span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="linenos">108</span><span class="w">      </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos">109</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">110</span><span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">111</span><span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">bitwuzla_term_get_kind</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">)</span>
<span class="linenos">112</span><span class="w">      </span><span class="p">{</span>
<span class="linenos">113</span><span class="w">        </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="linenos">114</span><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s(%s %s) &quot;</span><span class="p">,</span>
<span class="linenos">115</span><span class="w">               </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="linenos">116</span><span class="w">               </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="linenos">117</span><span class="w">               </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="linenos">118</span><span class="w">        </span><span class="n">value</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos">119</span><span class="w">        </span><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_term_get_children</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos">120</span><span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">121</span><span class="w">      </span><span class="p">}</span>
<span class="linenos">122</span><span class="w">      </span><span class="n">assert</span><span class="p">(</span><span class="n">bitwuzla_term_is_var</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="linenos">123</span><span class="w">      </span><span class="c1">// Note: The returned string of bitwuzla_term_to_string and</span>
<span class="linenos">124</span><span class="w">      </span><span class="c1">//       bitwuzla_sort_to_string does not have to be freed, but is only</span>
<span class="linenos">125</span><span class="w">      </span><span class="c1">//       valid until the next call to the respective function. Thus we</span>
<span class="linenos">126</span><span class="w">      </span><span class="c1">//       split printing into separate printf calls so that none of these</span>
<span class="linenos">127</span><span class="w">      </span><span class="c1">//       functions is called more than once in one printf call.</span>
<span class="linenos">128</span><span class="w">      </span><span class="c1">//       Alternatively, we could also first get and copy the strings, use</span>
<span class="linenos">129</span><span class="w">      </span><span class="c1">//       a single printf call, and then free the copied strings.</span>
<span class="linenos">130</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s(%s %s)) &quot;</span><span class="p">,</span>
<span class="linenos">131</span><span class="w">             </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="linenos">132</span><span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="linenos">133</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">])));</span>
<span class="linenos">134</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s&quot;</span><span class="p">,</span>
<span class="linenos">135</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_sort_fun_get_codomain</span><span class="p">(</span><span class="n">sort</span><span class="p">)));</span>
<span class="linenos">136</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
<span class="linenos">137</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">138</span><span class="w">    </span><span class="k">else</span>
<span class="linenos">139</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">140</span><span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;) %s %s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">141</span><span class="w">             </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">sort</span><span class="p">),</span>
<span class="linenos">142</span><span class="w">             </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">decls</span><span class="p">[</span><span class="n">i</span><span class="p">])));</span>
<span class="linenos">143</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">144</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">145</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">146</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">147</span>
<span class="linenos">148</span><span class="w">  </span><span class="c1">// Print value for x, y, f and a.</span>
<span class="linenos">149</span><span class="w">  </span><span class="c1">// Note: The returned string of bitwuzla_term_value_get_str is only valid</span>
<span class="linenos">150</span><span class="w">  </span><span class="c1">//       until the next call to bitwuzla_term_value_get_str</span>
<span class="linenos">151</span><span class="w">  </span><span class="c1">// Both x and y are bit-vector terms and their value is a bit-vector</span>
<span class="linenos">152</span><span class="w">  </span><span class="c1">// value that can be printed via bitwuzla_term_value_get_str().</span>
<span class="linenos">153</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">154</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="linenos">155</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of y: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">156</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="linenos">157</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">158</span><span class="w">  </span><span class="c1">// f and a, on the other hand, are a function and array term, respectively.</span>
<span class="linenos">159</span><span class="w">  </span><span class="c1">// The value of these terms is not a value term: for f, it is a lambda term,</span>
<span class="linenos">160</span><span class="w">  </span><span class="c1">// and the value of a is represented as a store term. Thus we cannot use</span>
<span class="linenos">161</span><span class="w">  </span><span class="c1">// bitwuzla_term_value_get_str(), but we can print the value of the terms</span>
<span class="linenos">162</span><span class="w">  </span><span class="c1">// via bitwuzla_term_to_string().</span>
<span class="linenos">163</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of f:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">164</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)));</span>
<span class="linenos">165</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of a:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">166</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)));</span>
<span class="linenos">167</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">168</span><span class="w">  </span><span class="c1">// Note that the assignment string of bit-vector terms is given as the</span>
<span class="linenos">169</span><span class="w">  </span><span class="c1">// pure assignment string, either in binary, hexadecimal or decimal format,</span>
<span class="linenos">170</span><span class="w">  </span><span class="c1">// whereas bitwuzla_term_to_string() prints the value in SMT-LIB2 format</span>
<span class="linenos">171</span><span class="w">  </span><span class="c1">// (in binary number format).</span>
<span class="linenos">172</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">173</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">174</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;to_string representation of value of y: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">175</span><span class="w">         </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)));</span>
<span class="linenos">176</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">177</span>
<span class="linenos">178</span><span class="w">  </span><span class="c1">// Query value of bit-vector term that does not occur in the input formula</span>
<span class="linenos">179</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_get_value</span><span class="p">(</span>
<span class="linenos">180</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">));</span>
<span class="linenos">181</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;value of v = x * x: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">182</span><span class="w">         </span><span class="n">bitwuzla_term_value_get_str</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="linenos">183</span>
<span class="linenos">184</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and the Bitwuzla options instance.</span>
<span class="linenos">185</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">186</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">187</span>
<span class="linenos">188</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">189</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="incremental-example-with-push-and-pop">
<h3><a class="toc-backref" href="#id7">Incremental Example with push and pop</a><a class="headerlink" href="#incremental-example-with-push-and-pop" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">An incremental example with <code class="code docutils literal notranslate"><span class="pre">push</span></code> and <code class="code docutils literal notranslate"><span class="pre">pop</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/pushpop.smt2">examples/smt2/pushpop.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/pushpop.c">examples/c/pushpop.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>(<span class="k">declare-fun</span> <span class="n">o0</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 4</span>(<span class="k">declare-fun</span> <span class="n">o1</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">s0</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-fun</span> <span class="n">s1</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-fun</span> <span class="n">s2</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 8</span>(<span class="k">declare-fun</span> <span class="n">goal</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 9</span>
<span class="linenos">10</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> (_ bv0 <span class="m">2</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">goal</span> (_ bv3 <span class="m">2</span>)))
<span class="linenos">12</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> <span class="n">goal</span>))
<span class="linenos">14</span>(<span class="k">check-sat</span>)
<span class="linenos">15</span>(<span class="k">pop</span> <span class="m">1</span>)
<span class="linenos">16</span>
<span class="linenos">17</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o0</span> (_ bv1 <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s0</span> (_ bv1 <span class="m">2</span>)) <span class="n">s0</span>)))
<span class="linenos">18</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">19</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> <span class="n">goal</span>))
<span class="linenos">20</span>(<span class="k">check-sat</span>)
<span class="linenos">21</span>(<span class="k">pop</span> <span class="m">1</span>)
<span class="linenos">22</span>
<span class="linenos">23</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o1</span> (_ bv1 <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s1</span> (_ bv1 <span class="m">2</span>)) <span class="n">s1</span>)))
<span class="linenos">24</span>(<span class="k">push</span> <span class="m">1</span>)
<span class="linenos">25</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> <span class="n">goal</span>))
<span class="linenos">26</span>(<span class="k">check-sat</span>)
<span class="linenos">27</span>(<span class="k">pop</span> <span class="m">1</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 2))</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 2))</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">));</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 50</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">));</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos"> 53</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 58</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos"> 59</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos"> 60</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos"> 61</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 65</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 66</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 67</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="w">          </span><span class="n">s1</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">          </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 71</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 72</span><span class="w">                            </span><span class="n">s0</span><span class="p">)));</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos"> 81</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos"> 82</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos"> 83</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 87</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 89</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">          </span><span class="n">s2</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">          </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 93</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 94</span><span class="w">                            </span><span class="n">s1</span><span class="p">)));</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="c1">// Push, assert, check sat and pop.</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_push</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">));</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">102</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">103</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">104</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">bitwuzla_pop</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and Bitwuzla optons instance.</span>
<span class="linenos">108</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">109</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">110</span>
<span class="linenos">111</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">112</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="incremental-example-with-check-sat-assuming">
<h3><a class="toc-backref" href="#id8">Incremental Example with check-sat-assuming</a><a class="headerlink" href="#incremental-example-with-check-sat-assuming" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to implement the example above with <code class="code docutils literal notranslate"><span class="pre">check-sat-assuming</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/checksatassuming.smt2">examples/smt2/checksatassuming.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/checksatassuming.c">examples/c/checksatassuming.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>
<span class="linenos"> 3</span>(<span class="k">declare-fun</span> <span class="n">o0</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 4</span>(<span class="k">declare-fun</span> <span class="n">o1</span> () (_ <span class="na">BitVec</span> <span class="m">1</span>))
<span class="linenos"> 5</span>(<span class="k">declare-fun</span> <span class="n">s0</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-fun</span> <span class="n">s1</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-fun</span> <span class="n">s2</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 8</span>(<span class="k">declare-fun</span> <span class="n">goal</span> () (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 9</span>
<span class="linenos">10</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s0</span> (_ bv0 <span class="m">2</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">goal</span> (_ bv3 <span class="m">2</span>)))
<span class="linenos">12</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s0</span> <span class="n">goal</span>)))
<span class="linenos">13</span>
<span class="linenos">14</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s1</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o0</span> (_ bv1 <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s0</span> (_ bv1 <span class="m">2</span>)) <span class="n">s0</span>)))
<span class="linenos">15</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s1</span> <span class="n">goal</span>)))
<span class="linenos">16</span>
<span class="linenos">17</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">s2</span> (<span class="o">ite</span> (<span class="o">=</span> <span class="n">o1</span> (_ bv1 <span class="m">1</span>)) (<span class="o">bvadd</span> <span class="n">s1</span> (_ bv1 <span class="m">2</span>)) <span class="n">s1</span>)))
<span class="linenos">18</span>(<span class="k">check-sat-assuming</span> ((<span class="o">=</span> <span class="n">s2</span> <span class="n">goal</span>)))
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 23</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 1.</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="c1">// (declare-const o0 (_ BitVec 2))</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o0&quot;</span><span class="p">);</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const o1 (_ BitVec 2))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">o1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;o1&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (declare-const s0 (_ BitVec 2))</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s0&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const s1 (_ BitVec 2))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const s2 (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s2&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const goal (_ BitVec 2))</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">goal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;goal&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// Create bit-vector values zero, one, three.</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">zero</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv1</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">one2</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_one</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">);</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// Add some assertions.</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">zero</span><span class="p">));</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 52</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">,</span><span class="w"> </span><span class="n">three</span><span class="p">));</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s0 goal)))</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 56</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">)};</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 59</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 60</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos"> 61</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos"> 62</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="w">  </span><span class="c1">// (assert (= s1 (ite (= o0 (_ sortbv1 1)) (bvadd s0 one) s0)))</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 66</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 67</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 68</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">          </span><span class="n">s1</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">          </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 71</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o0</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 72</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s0</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 73</span><span class="w">                            </span><span class="n">s0</span><span class="p">)));</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s1 goal)))</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">);</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">result</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 79</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos"> 81</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos"> 82</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (= s2 (ite (= o1 (_ sortbv1 1)) (bvadd s1 one) s1)))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos"> 86</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 87</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 88</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 89</span><span class="w">          </span><span class="n">s2</span><span class="p">,</span>
<span class="linenos"> 90</span><span class="w">          </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">o1</span><span class="p">,</span><span class="w"> </span><span class="n">one1</span><span class="p">),</span>
<span class="linenos"> 92</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ADD</span><span class="p">,</span><span class="w"> </span><span class="n">s1</span><span class="p">,</span><span class="w"> </span><span class="n">one2</span><span class="p">),</span>
<span class="linenos"> 93</span><span class="w">                            </span><span class="n">s1</span><span class="p">)));</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="w">  </span><span class="c1">// (check-sat-assuming ((= s2 goal)))</span>
<span class="linenos"> 96</span><span class="w">  </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">s2</span><span class="p">,</span><span class="w"> </span><span class="n">goal</span><span class="p">);</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">result</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos"> 98</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">100</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">101</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">102</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and Bitwuzla options instance.</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">106</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">109</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="unsat-core-example">
<h3><a class="toc-backref" href="#id9">Unsat Core Example</a><a class="headerlink" href="#unsat-core-example" title="Permalink to this headline"></a></h3>
<p>This example shows how to extract an unsat core.
It creates bit-vector and floating-point terms and further illustrates how to
create lambda terms (<code class="code docutils literal notranslate"><span class="pre">define-fun</span></code>).</p>
<div class="line-block">
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/unsatcore.smt2">examples/smt2/unsatcore.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/unsatcore.c">examples/c/unsatcore.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-3-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-3-3-0" name="3-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-3-3-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-1" name="3-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-3-3-0" class="sphinx-tabs-panel" id="panel-3-3-0" name="3-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> <span class="n">ALL</span>)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-unsat-cores</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x0</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">x1</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 5</span>(<span class="k">declare-const</span> <span class="n">x2</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">x3</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-const</span> <span class="n">x4</span> <span class="n">Float16</span>)
<span class="linenos"> 8</span>(<span class="k">define-fun</span> <span class="n">f0</span> ((<span class="n">a</span> <span class="n">Float16</span>)) <span class="n">Bool</span> (<span class="o">fp.gt</span> <span class="n">a</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>)))
<span class="linenos"> 9</span>(<span class="k">define-fun</span> <span class="n">f1</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">4</span>) (<span class="o">ite</span> (<span class="n">f0</span> <span class="n">a</span>) <span class="n">x0</span> #b0000))
<span class="linenos">10</span>(<span class="k">define-fun</span> <span class="n">f2</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">2</span>) ((_ <span class="o">extract</span> <span class="m">1</span> <span class="m">0</span>) (<span class="n">f1</span> <span class="n">a</span>)))
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="na">!</span> (<span class="o">bvult</span> <span class="n">x2</span> (<span class="n">f2</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>))) <span class="na">:named</span> <span class="n">a0</span>))
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="na">!</span> (<span class="o">=</span> <span class="n">x1</span> <span class="n">x2</span> <span class="n">x3</span>) <span class="na">:named</span> <span class="n">a1</span>))
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="na">!</span>(<span class="o">=</span> <span class="n">x4</span> ((_ <span class="o">to_fp_unsigned</span> <span class="m">5</span> <span class="m">11</span>) <span class="na">RNE</span> <span class="n">x3</span>)) <span class="na">:named</span> <span class="n">a2</span>))
<span class="linenos">14</span>(<span class="k">check-sat</span>)
<span class="linenos">15</span>(<span class="k">get-unsat-core</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-3-3-1" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-1" name="3-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="c1">// Then, enable unsat core extraction.</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// Note: Unsat core extraction is disabled by default.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_UNSAT_CORES</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 22</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 42</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 43</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 51</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 52</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">                        </span><span class="n">a_f0</span><span class="p">,</span>
<span class="linenos"> 54</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_FP_GT</span><span class="p">,</span><span class="w"> </span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 58</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 59</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 60</span><span class="w">      </span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="w">      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 62</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">),</span>
<span class="linenos"> 63</span><span class="w">                        </span><span class="n">x0</span><span class="p">,</span>
<span class="linenos"> 64</span><span class="w">                        </span><span class="n">bvzero</span><span class="p">));</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 68</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 69</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                        </span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 71</span><span class="w">                        </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 72</span><span class="w">                            </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span>
<span class="linenos"> 73</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">),</span>
<span class="linenos"> 74</span><span class="w">                            </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 75</span><span class="w">                            </span><span class="mi">0</span><span class="p">));</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 79</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ULT</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">                        </span><span class="n">x2</span><span class="p">,</span>
<span class="linenos"> 81</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a0</span><span class="p">);</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">);</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">);</span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 90</span><span class="w">      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 91</span><span class="w">      </span><span class="n">x4</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="w">      </span><span class="n">bitwuzla_mk_term2_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos"> 93</span><span class="w">                                 </span><span class="n">bitwuzla_mk_rm_value</span><span class="p">(</span><span class="n">BITWUZLA_RM_RNE</span><span class="p">),</span>
<span class="linenos"> 94</span><span class="w">                                 </span><span class="n">x3</span><span class="p">,</span>
<span class="linenos"> 95</span><span class="w">                                 </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 96</span><span class="w">                                 </span><span class="mi">11</span><span class="p">));</span>
<span class="linenos"> 97</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">);</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">100</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">101</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">102</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">103</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">104</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">105</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="w">  </span><span class="c1">// (get-unsat-core)</span>
<span class="linenos">108</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">unsat_core_size</span><span class="p">;</span>
<span class="linenos">109</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">unsat_core</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">110</span><span class="w">      </span><span class="n">bitwuzla_get_unsat_core</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">unsat_core_size</span><span class="p">);</span>
<span class="linenos">111</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Unsat Core:</span><span class="se">\n</span><span class="s">{</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">112</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">unsat_core_size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">113</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">114</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">unsat_core</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">115</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">116</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">117</span>
<span class="linenos">118</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and Bitwuzla options instance.</span>
<span class="linenos">119</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">120</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">121</span>
<span class="linenos">122</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">123</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="unsat-assumptions-example">
<h3><a class="toc-backref" href="#id10">Unsat Assumptions Example</a><a class="headerlink" href="#unsat-assumptions-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to implement the example above with <code class="code docutils literal notranslate"><span class="pre">get-unsat-assumptions</span></code>.</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/unsatassumptions.smt2">examples/smt2/unsatassumptions.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/unsatassumptions.c">examples/c/unsatassumptions.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-4-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-4-4-0" name="4-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-4-4-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-1" name="4-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-4-4-0" class="sphinx-tabs-panel" id="panel-4-4-0" name="4-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> <span class="n">ALL</span>)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-unsat-assumptions</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x0</span> (_ <span class="na">BitVec</span> <span class="m">4</span>))
<span class="linenos"> 4</span>(<span class="k">declare-const</span> <span class="n">x1</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 5</span>(<span class="k">declare-const</span> <span class="n">x2</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 6</span>(<span class="k">declare-const</span> <span class="n">x3</span> (_ <span class="na">BitVec</span> <span class="m">2</span>))
<span class="linenos"> 7</span>(<span class="k">declare-const</span> <span class="n">x4</span> <span class="n">Float16</span>)
<span class="linenos"> 8</span>(<span class="k">define-fun</span> <span class="n">f0</span> ((<span class="n">a</span> <span class="n">Float16</span>)) <span class="n">Bool</span> (<span class="o">fp.gt</span> <span class="n">a</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>)))
<span class="linenos"> 9</span>(<span class="k">define-fun</span> <span class="n">f1</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">4</span>) (<span class="o">ite</span> (<span class="n">f0</span> <span class="n">a</span>) <span class="n">x0</span> #b0000))
<span class="linenos">10</span>(<span class="k">define-fun</span> <span class="n">f2</span> ((<span class="n">a</span> <span class="n">Float16</span>)) (_ <span class="na">BitVec</span> <span class="m">2</span>) ((_ <span class="o">extract</span> <span class="m">1</span> <span class="m">0</span>) (<span class="n">f1</span> <span class="n">a</span>)))
<span class="linenos">11</span>(<span class="k">check-sat-assuming</span>
<span class="linenos">12</span>  (
<span class="linenos">13</span>   (<span class="na">!</span> (<span class="o">bvult</span> <span class="n">x2</span> (<span class="n">f2</span> (_ <span class="o">+zero</span> <span class="m">5</span> <span class="m">11</span>))) <span class="na">:named</span> <span class="n">a0</span>)
<span class="linenos">14</span>   (<span class="na">!</span> (<span class="o">=</span> <span class="n">x1</span> <span class="n">x2</span> <span class="n">x3</span>) <span class="na">:named</span> <span class="n">a1</span>)
<span class="linenos">15</span>   (<span class="na">!</span> (<span class="o">=</span> <span class="n">x4</span> ((_ <span class="o">to_fp_unsigned</span> <span class="m">5</span> <span class="m">11</span>) <span class="na">RNE</span> <span class="n">x3</span>)) <span class="na">:named</span> <span class="n">a2</span>)
<span class="linenos">16</span>  )
<span class="linenos">17</span>)
<span class="linenos">18</span>(<span class="k">get-unsat-assumptions</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-4-4-1" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-1" name="4-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/***</span>
<span class="linenos">  2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos">  3</span><span class="cm"> *</span>
<span class="linenos">  4</span><span class="cm"> * Copyright (C) 2021 by the authors listed in the AUTHORS file at</span>
<span class="linenos">  5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos">  6</span><span class="cm"> *</span>
<span class="linenos">  7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos">  8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos">  9</span><span class="cm"> */</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos"> 12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kt">int</span>
<span class="linenos"> 15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos"> 16</span><span class="p">{</span>
<span class="linenos"> 17</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos"> 18</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="w"> </span><span class="o">*</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos"> 19</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_UNSAT_ASSUMPTIONS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="linenos"> 20</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos"> 21</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="w"> </span><span class="o">*</span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="w">  </span><span class="c1">// Create Boolean sort.</span>
<span class="linenos"> 24</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bool_sort</span><span class="p">();</span>
<span class="linenos"> 25</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 2.</span>
<span class="linenos"> 26</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos"> 27</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 4.</span>
<span class="linenos"> 28</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="linenos"> 29</span><span class="w">  </span><span class="c1">// Create Float16 floatinf-point sort.</span>
<span class="linenos"> 30</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortfp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_sort</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<span class="linenos"> 31</span><span class="w">  </span><span class="c1">// Create bit-vector variables.</span>
<span class="linenos"> 32</span><span class="w">  </span><span class="c1">// (declare-const x0 (_ BitVec 4))</span>
<span class="linenos"> 33</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x0&quot;</span><span class="p">);</span>
<span class="linenos"> 34</span><span class="w">  </span><span class="c1">// (declare-const x1 (_ BitVec 2))</span>
<span class="linenos"> 35</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x1&quot;</span><span class="p">);</span>
<span class="linenos"> 36</span><span class="w">  </span><span class="c1">// (declare-const x2 (_ BitVec 2))</span>
<span class="linenos"> 37</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x2&quot;</span><span class="p">);</span>
<span class="linenos"> 38</span><span class="w">  </span><span class="c1">// (declare-const x3 (_ BitVec 2))</span>
<span class="linenos"> 39</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x3&quot;</span><span class="p">);</span>
<span class="linenos"> 40</span><span class="w">  </span><span class="c1">// (declare-const x4 Float16)</span>
<span class="linenos"> 41</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x4&quot;</span><span class="p">);</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="w">  </span><span class="c1">// Create FP positive zero.</span>
<span class="linenos"> 44</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">fpzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_fp_pos_zero</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">  </span><span class="c1">// Create BV zero of size 4.</span>
<span class="linenos"> 46</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">bvzero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_zero</span><span class="p">(</span><span class="n">sortbv4</span><span class="p">);</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span><span class="w">  </span><span class="c1">// (define-fun f0 ((a Float16)) Bool (fp.gt a (_ +zero 5 11)))</span>
<span class="linenos"> 49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f0&quot;</span><span class="p">);</span>
<span class="linenos"> 50</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 51</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 52</span><span class="w">                        </span><span class="n">a_f0</span><span class="p">,</span>
<span class="linenos"> 53</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_FP_GT</span><span class="p">,</span><span class="w"> </span><span class="n">a_f0</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="w">  </span><span class="c1">// (define-fun f1 ((a Float16)) (_ BitVec 4) (ite (f0 a) x0 #b0000))</span>
<span class="linenos"> 56</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f1&quot;</span><span class="p">);</span>
<span class="linenos"> 57</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f1</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 58</span><span class="w">      </span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 59</span><span class="w">      </span><span class="n">a_f1</span><span class="p">,</span>
<span class="linenos"> 60</span><span class="w">      </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ITE</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f0</span><span class="p">,</span><span class="w"> </span><span class="n">a_f1</span><span class="p">),</span>
<span class="linenos"> 62</span><span class="w">                        </span><span class="n">x0</span><span class="p">,</span>
<span class="linenos"> 63</span><span class="w">                        </span><span class="n">bvzero</span><span class="p">));</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="w">  </span><span class="c1">// (define-fun f2 ((a Float16)) (_ BitVec 2) ((_ extract 1 0) (f1 a)))</span>
<span class="linenos"> 66</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a_f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_var</span><span class="p">(</span><span class="n">sortfp16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a_f2&quot;</span><span class="p">);</span>
<span class="linenos"> 67</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 68</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_LAMBDA</span><span class="p">,</span>
<span class="linenos"> 69</span><span class="w">                        </span><span class="n">a_f2</span><span class="p">,</span>
<span class="linenos"> 70</span><span class="w">                        </span><span class="n">bitwuzla_mk_term1_indexed2</span><span class="p">(</span>
<span class="linenos"> 71</span><span class="w">                            </span><span class="n">BITWUZLA_KIND_BV_EXTRACT</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="w">                            </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f1</span><span class="p">,</span><span class="w"> </span><span class="n">a_f2</span><span class="p">),</span>
<span class="linenos"> 73</span><span class="w">                            </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 74</span><span class="w">                            </span><span class="mi">0</span><span class="p">));</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span><span class="w">  </span><span class="c1">// (assert (! (bvult x2 (f2 (_ +zero 5 11))) :named a0))</span>
<span class="linenos"> 77</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a0&quot;</span><span class="p">);</span>
<span class="linenos"> 78</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption0</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 79</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_ULT</span><span class="p">,</span>
<span class="linenos"> 80</span><span class="w">                        </span><span class="n">x2</span><span class="p">,</span>
<span class="linenos"> 81</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_APPLY</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="p">,</span><span class="w"> </span><span class="n">fpzero</span><span class="p">));</span>
<span class="linenos"> 82</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 83</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">assumption0</span><span class="p">));</span>
<span class="linenos"> 84</span><span class="w">  </span><span class="c1">// (assert (! (= x1 x2 x3) :named a1))</span>
<span class="linenos"> 85</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a1</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a1&quot;</span><span class="p">);</span>
<span class="linenos"> 86</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term3</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">,</span><span class="w"> </span><span class="n">x3</span><span class="p">);</span>
<span class="linenos"> 87</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos"> 88</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">assumption1</span><span class="p">));</span>
<span class="linenos"> 89</span><span class="w">  </span><span class="c1">// (assert (!(= x4 ((_ to_fp_unsigned 5 11) RNE x3)) :named a2))</span>
<span class="linenos"> 90</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a2</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbool</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a2&quot;</span><span class="p">);</span>
<span class="linenos"> 91</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumption2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos"> 92</span><span class="w">      </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos"> 93</span><span class="w">      </span><span class="n">x4</span><span class="p">,</span>
<span class="linenos"> 94</span><span class="w">      </span><span class="n">bitwuzla_mk_term2_indexed2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_FP_TO_FP_FROM_UBV</span><span class="p">,</span>
<span class="linenos"> 95</span><span class="w">                                 </span><span class="n">bitwuzla_mk_rm_value</span><span class="p">(</span><span class="n">BITWUZLA_RM_RNE</span><span class="p">),</span>
<span class="linenos"> 96</span><span class="w">                                 </span><span class="n">x3</span><span class="p">,</span>
<span class="linenos"> 97</span><span class="w">                                 </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 98</span><span class="w">                                 </span><span class="mi">11</span><span class="p">));</span>
<span class="linenos"> 99</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">100</span><span class="w">                  </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">,</span><span class="w"> </span><span class="n">assumption2</span><span class="p">));</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">a2</span><span class="p">};</span>
<span class="linenos">103</span><span class="w">  </span><span class="c1">// (check-sat-assuming (assumption0 assumption1 assumption2))</span>
<span class="linenos">104</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">);</span>
<span class="linenos">105</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">106</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">107</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">108</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">109</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos">110</span>
<span class="linenos">111</span><span class="w">  </span><span class="c1">// (get-unsat-assumptions)</span>
<span class="linenos">112</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">unsat_assumptions_size</span><span class="p">;</span>
<span class="linenos">113</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="o">*</span><span class="n">unsat_assumptions</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">114</span><span class="w">      </span><span class="n">bitwuzla_get_unsat_assumptions</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">unsat_assumptions_size</span><span class="p">);</span>
<span class="linenos">115</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Unsat Assumptions: {&quot;</span><span class="p">);</span>
<span class="linenos">116</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">unsat_assumptions_size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">117</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">118</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">unsat_assumptions</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">119</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">120</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; }</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">121</span>
<span class="linenos">122</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and Bitwuzla options instance.</span>
<span class="linenos">123</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">124</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">125</span>
<span class="linenos">126</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">127</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="reset-example">
<h3><a class="toc-backref" href="#id11">Reset Example</a><a class="headerlink" href="#reset-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to reset the solver instance (SMT-LIB command <code class="code docutils literal notranslate"><span class="pre">reset</span></code>).</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/reset.smt2">examples/smt2/reset.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/reset.c">examples/c/reset.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-5-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-5-5-0" name="5-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-5-5-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-5-5-1" name="5-1" role="tab" tabindex="-1">C</button></div><div aria-labelledby="tab-5-5-0" class="sphinx-tabs-panel" id="panel-5-5-0" name="5-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="n">false</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">3</span>))
<span class="linenos"> 4</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> #b010))
<span class="linenos"> 5</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>(<span class="k">reset</span>)
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>(<span class="k">set-logic</span> QF_ABV)
<span class="linenos">10</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos">11</span>(<span class="k">declare-const</span> <span class="n">a</span> ( <span class="n">Array</span> (_ <span class="na">BitVec</span> <span class="m">2</span>) (_ <span class="na">BitVec</span> <span class="m">3</span>)))
<span class="linenos">12</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> #b011))
<span class="linenos">13</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> (<span class="n">select</span> <span class="n">a</span> #b01)))
<span class="linenos">14</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos">15</span>(<span class="k">get-model</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-5-5-1" class="sphinx-tabs-panel" hidden="true" id="panel-5-5-1" name="5-1" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="kt">int</span>
<span class="linenos">15</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">16</span><span class="p">{</span>
<span class="linenos">17</span><span class="w">  </span><span class="n">BitwuzlaResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">21</span><span class="w">  </span><span class="c1">// (set-option :produce-models false)</span>
<span class="linenos">22</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos">28</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos">31</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos">34</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">35</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">36</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">37</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)));</span>
<span class="linenos">38</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">40</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">41</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">42</span><span class="w">         </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">43</span><span class="w">             </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">44</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">));</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="w">  </span><span class="c1">// (reset)</span>
<span class="linenos">52</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for reset since</span>
<span class="linenos">53</span><span class="w">  </span><span class="c1">//       this is achieved by simply discarding the current Bitwuzla instance</span>
<span class="linenos">54</span><span class="w">  </span><span class="c1">//       and creating a new one.</span>
<span class="linenos">55</span><span class="w">  </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">56</span>
<span class="linenos">57</span><span class="w">  </span><span class="c1">// (declare-const a ( Array (_ BitVec 2) (_ BitVec 3)))</span>
<span class="linenos">58</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">sortbv2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="linenos">59</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">60</span><span class="w">      </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">bitwuzla_mk_array_sort</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="n">sortbv3</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="linenos">61</span>
<span class="linenos">62</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos">63</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">64</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">65</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">66</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)));</span>
<span class="linenos">67</span><span class="w">  </span><span class="c1">// (assert (= x (select a #b01)))</span>
<span class="linenos">68</span><span class="w">  </span><span class="n">bitwuzla_assert</span><span class="p">(</span>
<span class="linenos">69</span><span class="w">      </span><span class="n">bitwuzla</span><span class="p">,</span>
<span class="linenos">70</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">71</span><span class="w">          </span><span class="n">BITWUZLA_KIND_EQUAL</span><span class="p">,</span>
<span class="linenos">72</span><span class="w">          </span><span class="n">x</span><span class="p">,</span>
<span class="linenos">73</span><span class="w">          </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_ARRAY_SELECT</span><span class="p">,</span>
<span class="linenos">74</span><span class="w">                            </span><span class="n">a</span><span class="p">,</span>
<span class="linenos">75</span><span class="w">                            </span><span class="n">bitwuzla_mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))));</span>
<span class="linenos">76</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">77</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_check_sat</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">78</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: sat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">79</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bitwuzla: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">80</span><span class="w">         </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_SAT</span>
<span class="linenos">81</span><span class="w">              </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">82</span><span class="w">              </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BITWUZLA_UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">)));</span>
<span class="linenos">83</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos">84</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;(</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">85</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s () &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="linenos">86</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">87</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)));</span>
<span class="linenos">88</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  (define-fun %s () &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_get_symbol</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
<span class="linenos">89</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_sort_to_string</span><span class="p">(</span><span class="n">bitwuzla_term_get_sort</span><span class="p">(</span><span class="n">a</span><span class="p">)));</span>
<span class="linenos">90</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">bitwuzla_get_value</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)));</span>
<span class="linenos">91</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">92</span>
<span class="linenos">93</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">94</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="reset-assertions-example">
<h3><a class="toc-backref" href="#id12">Reset Assertions Example</a><a class="headerlink" href="#reset-assertions-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to reset the currently asserted formulas of a solver instance (SMT-LIB command <code class="code docutils literal notranslate"><span class="pre">reset-assertions</span></code>).</div>
<div class="line">The SMT-LIB input for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/smt2/reset_assertions.smt2">examples/smt2/reset_assertions.smt2</a>.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/cpp/reset_assertions.cpp">examples/cpp/reset_assertions.cpp</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-6-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-6-6-0" name="6-0" role="tab" tabindex="0">SMT-LIBv2</button><button aria-controls="panel-6-6-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-6-6-1" name="6-1" role="tab" tabindex="-1">C++</button></div><div aria-labelledby="tab-6-6-0" class="sphinx-tabs-panel" id="panel-6-6-0" name="6-0" role="tabpanel" tabindex="0"><div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>(<span class="k">set-logic</span> QF_BV)
<span class="linenos"> 2</span>(<span class="k">set-option</span> <span class="na">:produce-models</span> <span class="s">true</span>)
<span class="linenos"> 3</span>(<span class="k">declare-const</span> <span class="n">x</span> (_ <span class="na">BitVec</span> <span class="m">3</span>))
<span class="linenos"> 4</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> #b010))
<span class="linenos"> 5</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos"> 6</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> #b001))
<span class="linenos"> 7</span>(<span class="k">check-sat</span>) <span class="c">; expect unsat</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>(<span class="k">reset-assertions</span>)
<span class="linenos">10</span>
<span class="linenos">11</span>(<span class="k">assert</span> (<span class="o">=</span> <span class="n">x</span> #b011))
<span class="linenos">12</span>(<span class="k">check-sat</span>) <span class="c">; expect sat</span>
<span class="linenos">13</span>(<span class="k">get-model</span>)
</pre></div>
</div>
</div><div aria-labelledby="tab-6-6-1" class="sphinx-tabs-panel" hidden="true" id="panel-6-6-1" name="6-1" role="tabpanel" tabindex="0"><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/cpp/bitwuzla.h&gt;</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">bitwuzla</span><span class="p">;</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span>
<span class="linenos">18</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">19</span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">Result</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">Options</span><span class="w"> </span><span class="n">options</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// (set-option :produce-models true)</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">options</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">Option</span><span class="o">::</span><span class="n">PRODUCE_MODELS</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">28</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Bitwuzla</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">options</span><span class="p">));</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="w">  </span><span class="c1">// Create a bit-vector sort of size 3.</span>
<span class="linenos">31</span><span class="w">  </span><span class="n">Sort</span><span class="w"> </span><span class="n">sortbv3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mk_bv_sort</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// (declare-const x (_ BitVec 3))</span>
<span class="linenos">34</span><span class="w">  </span><span class="n">Term</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mk_const</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="w">  </span><span class="c1">// (assert (= x #b010))</span>
<span class="linenos">37</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">38</span><span class="w">      </span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}));</span>
<span class="linenos">39</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">40</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">41</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">42</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span>
<span class="linenos">43</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">SAT</span>
<span class="linenos">44</span><span class="w">                    </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">45</span><span class="w">                    </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">))</span>
<span class="linenos">46</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="w">  </span><span class="c1">// (assert (= x #b001))</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">50</span><span class="w">      </span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)}));</span>
<span class="linenos">51</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">52</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">53</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: unsat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">54</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span>
<span class="linenos">55</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">SAT</span>
<span class="linenos">56</span><span class="w">                    </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">57</span><span class="w">                    </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">))</span>
<span class="linenos">58</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">59</span>
<span class="linenos">60</span><span class="w">  </span><span class="c1">// (reset-assertions)</span>
<span class="linenos">61</span><span class="w">  </span><span class="c1">// Note: Bitwuzla does not provide an explicit API function for</span>
<span class="linenos">62</span><span class="w">  </span><span class="c1">//       reset-assertions since this is achieved by simply discarding</span>
<span class="linenos">63</span><span class="w">  </span><span class="c1">//       the current Bitwuzla instance and creating a new one.</span>
<span class="linenos">64</span><span class="w">  </span><span class="n">bitwuzla</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Bitwuzla</span><span class="p">(</span><span class="n">options</span><span class="p">));</span>
<span class="linenos">65</span>
<span class="linenos">66</span><span class="w">  </span><span class="c1">// (assert (= x #b011))</span>
<span class="linenos">67</span><span class="w">  </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">assert_formula</span><span class="p">(</span>
<span class="linenos">68</span><span class="w">      </span><span class="n">mk_term</span><span class="p">(</span><span class="n">Kind</span><span class="o">::</span><span class="n">EQUAL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mk_bv_value_uint64</span><span class="p">(</span><span class="n">sortbv3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)}));</span>
<span class="linenos">69</span><span class="w">  </span><span class="c1">// (check-sat)</span>
<span class="linenos">70</span><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">check_sat</span><span class="p">();</span>
<span class="linenos">71</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Expect: sat&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">72</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bitwuzla: &quot;</span>
<span class="linenos">73</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">SAT</span>
<span class="linenos">74</span><span class="w">                    </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;sat&quot;</span>
<span class="linenos">75</span><span class="w">                    </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Result</span><span class="o">::</span><span class="n">UNSAT</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;unsat&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">))</span>
<span class="linenos">76</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">77</span>
<span class="linenos">78</span><span class="w">  </span><span class="c1">// (get-model)</span>
<span class="linenos">79</span><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">80</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;  (define-fun &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">symbol</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; () &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="linenos">81</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">bitwuzla</span><span class="o">-&gt;</span><span class="n">get_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span>
<span class="linenos">82</span><span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="linenos">83</span>
<span class="linenos">84</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">85</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="parsing-example">
<h3><a class="toc-backref" href="#id13">Parsing Example</a><a class="headerlink" href="#parsing-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to parse an input file via the API.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/parse.c">examples/c/parse.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-7-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-7-7-0" name="7-0" role="tab" tabindex="0">C</button></div><div aria-labelledby="tab-7-7-0" class="sphinx-tabs-panel" id="panel-7-7-0" name="7-0" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/parser.h&gt;</span>
<span class="linenos">14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="kt">int</span>
<span class="linenos">17</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">18</span><span class="p">{</span>
<span class="linenos">19</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="c1">// We will parse example file `smt2/quickstart.smt2`.</span>
<span class="linenos">23</span><span class="w">  </span><span class="c1">// Create parser instance.</span>
<span class="linenos">24</span><span class="w">  </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">infile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">infile</span><span class="p">);</span>
<span class="linenos">26</span><span class="w">  </span><span class="n">BitwuzlaParser</span><span class="o">*</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">27</span><span class="w">      </span><span class="n">bitwuzla_parser_new</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;../smt2/quickstart.smt2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">infile</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;smt2&quot;</span><span class="p">);</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="w">  </span><span class="c1">// Now parse the input file.</span>
<span class="linenos">30</span><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">err_msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_parser_parse</span><span class="p">(</span><span class="n">parser</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="linenos">31</span><span class="w">  </span><span class="c1">// We expect no error to occur.</span>
<span class="linenos">32</span><span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="n">err_msg</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="w">  </span><span class="c1">// Now we retrieve the set of asserted formulas and print them.</span>
<span class="linenos">35</span><span class="w">  </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="linenos">36</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="o">*</span><span class="w"> </span><span class="n">assertions</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">37</span><span class="w">      </span><span class="n">bitwuzla_get_assertions</span><span class="p">(</span><span class="n">bitwuzla_parser_get_bitwuzla</span><span class="p">(</span><span class="n">parser</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="linenos">38</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Assertions:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">39</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;{</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">40</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="linenos">41</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">42</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bitwuzla_term_to_string</span><span class="p">(</span><span class="n">assertions</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
<span class="linenos">43</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">44</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="w">  </span><span class="c1">// Finally, delete Bitwuzla parser and options instance.</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">bitwuzla_parser_delete</span><span class="p">(</span><span class="n">parser</span><span class="p">);</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">51</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="termination-callback-example">
<h3><a class="toc-backref" href="#id14">Termination Callback Example</a><a class="headerlink" href="#termination-callback-example" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">This example shows how to configure a termination callback.</div>
<div class="line">The source code for this example can be found at <a class="reference external" href="https://github.com/bitwuzla/bitwuzla/tree/main/examples/c/terminator.c">examples/c/terminator.c</a>.</div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-8-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-8-8-0" name="8-0" role="tab" tabindex="0">C</button></div><div aria-labelledby="tab-8-8-0" class="sphinx-tabs-panel" id="panel-8-8-0" name="8-0" role="tabpanel" tabindex="0"><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cm">/***</span>
<span class="linenos"> 2</span><span class="cm"> * Bitwuzla: Satisfiability Modulo Theories (SMT) solver.</span>
<span class="linenos"> 3</span><span class="cm"> *</span>
<span class="linenos"> 4</span><span class="cm"> * Copyright (C) 2023 by the authors listed in the AUTHORS file at</span>
<span class="linenos"> 5</span><span class="cm"> * https://github.com/bitwuzla/bitwuzla/blob/main/AUTHORS</span>
<span class="linenos"> 6</span><span class="cm"> *</span>
<span class="linenos"> 7</span><span class="cm"> * This file is part of Bitwuzla under the MIT license. See COPYING for more</span>
<span class="linenos"> 8</span><span class="cm"> * information at https://github.com/bitwuzla/bitwuzla/blob/main/COPYING</span>
<span class="linenos"> 9</span><span class="cm"> */</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bitwuzla/c/bitwuzla.h&gt;</span>
<span class="linenos">12</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="linenos">13</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="linenos">14</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/time.h&gt;</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span>
<span class="linenos">17</span><span class="p">{</span>
<span class="linenos">18</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">timeval</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>
<span class="linenos">19</span><span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">time_limit_ms</span><span class="p">;</span>
<span class="linenos">20</span><span class="p">};</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="k">static</span><span class="w"> </span><span class="kt">int32_t</span>
<span class="linenos">23</span><span class="nf">test_terminate</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="linenos">24</span><span class="p">{</span>
<span class="linenos">25</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="o">*</span><span class="w"> </span><span class="n">tstate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">timeval</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="linenos">27</span><span class="w">  </span><span class="n">gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">28</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="n">now</span><span class="p">.</span><span class="n">tv_sec</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">.</span><span class="n">tv_sec</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span>
<span class="linenos">29</span><span class="w">       </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">tv_usec</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">.</span><span class="n">tv_usec</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<span class="linenos">30</span><span class="w">      </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">tstate</span><span class="o">-&gt;</span><span class="n">time_limit_ms</span><span class="p">)</span>
<span class="linenos">31</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">32</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">33</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">34</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">35</span><span class="p">}</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="kt">int</span>
<span class="linenos">38</span><span class="nf">main</span><span class="p">()</span>
<span class="linenos">39</span><span class="p">{</span>
<span class="linenos">40</span><span class="w">  </span><span class="c1">// First, create a Bitwuzla options instance.</span>
<span class="linenos">41</span><span class="w">  </span><span class="n">BitwuzlaOptions</span><span class="o">*</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_options_new</span><span class="p">();</span>
<span class="linenos">42</span><span class="w">  </span><span class="c1">// Then, create a Bitwuzla instance.</span>
<span class="linenos">43</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="w">  </span><span class="n">BitwuzlaSort</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_bv_sort</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="p">);</span>
<span class="linenos">48</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;s&quot;</span><span class="p">);</span>
<span class="linenos">49</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_const</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;t&quot;</span><span class="p">);</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span>
<span class="linenos">52</span><span class="w">      </span><span class="n">BITWUZLA_KIND_DISTINCT</span><span class="p">,</span>
<span class="linenos">53</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span>
<span class="linenos">54</span><span class="w">                        </span><span class="n">s</span><span class="p">,</span>
<span class="linenos">55</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">)),</span>
<span class="linenos">56</span><span class="w">      </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span>
<span class="linenos">57</span><span class="w">                        </span><span class="n">bitwuzla_mk_term2</span><span class="p">(</span><span class="n">BITWUZLA_KIND_BV_MUL</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">),</span>
<span class="linenos">58</span><span class="w">                        </span><span class="n">t</span><span class="p">));</span>
<span class="linenos">59</span>
<span class="linenos">60</span><span class="w">  </span><span class="c1">// Now, we check that the following formula is unsat.</span>
<span class="linenos">61</span><span class="w">  </span><span class="c1">// (assert (distinct (bvmul s (bvmul x t)) (bvmul (bvmul s x) t)))</span>
<span class="linenos">62</span><span class="w">  </span><span class="n">BitwuzlaTerm</span><span class="w"> </span><span class="n">assumptions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">};</span>
<span class="linenos">63</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;&gt; Without terminator (with preprocessing):</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">64</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unsat</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">65</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Result: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">66</span><span class="w">         </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span>
<span class="linenos">67</span><span class="w">             </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">)));</span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="w">  </span><span class="c1">// Now, for illustration purposes, we disable preprocessing, which will</span>
<span class="linenos">70</span><span class="w">  </span><span class="c1">// significantly increase solving time, and connect a terminator instance</span>
<span class="linenos">71</span><span class="w">  </span><span class="c1">// that terminates after a certain time limit.</span>
<span class="linenos">72</span><span class="w">  </span><span class="n">bitwuzla_set_option</span><span class="p">(</span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">BITWUZLA_OPT_PREPROCESS</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">73</span><span class="w">  </span><span class="c1">// Create new Bitwuzla instance with reconfigured options.</span>
<span class="linenos">74</span><span class="w">  </span><span class="n">Bitwuzla</span><span class="o">*</span><span class="w"> </span><span class="n">bitwuzla2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bitwuzla_new</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">75</span><span class="w">  </span><span class="c1">// Configure termination callback.</span>
<span class="linenos">76</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">terminator_state</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="linenos">77</span><span class="w">  </span><span class="n">gettimeofday</span><span class="p">(</span><span class="o">&amp;</span><span class="n">state</span><span class="p">.</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="linenos">78</span><span class="w">  </span><span class="n">state</span><span class="p">.</span><span class="n">time_limit_ms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="linenos">79</span><span class="w">  </span><span class="n">bitwuzla_set_termination_callback</span><span class="p">(</span><span class="n">bitwuzla2</span><span class="p">,</span><span class="w"> </span><span class="n">test_terminate</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">state</span><span class="p">);</span>
<span class="linenos">80</span>
<span class="linenos">81</span><span class="w">  </span><span class="c1">// Now, we expect Bitwuzla to be terminated during the check-sat call.</span>
<span class="linenos">82</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;&gt; With terminator (no preprocessing):</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">83</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Expect: unknown</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="linenos">84</span><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Result: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="linenos">85</span><span class="w">         </span><span class="n">bitwuzla_result_to_string</span><span class="p">(</span>
<span class="linenos">86</span><span class="w">             </span><span class="n">bitwuzla_check_sat_assuming</span><span class="p">(</span><span class="n">bitwuzla2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">assumptions</span><span class="p">)));</span>
<span class="linenos">87</span>
<span class="linenos">88</span><span class="w">  </span><span class="c1">// Finally, delete the Bitwuzla and Bitwuzla options instance.</span>
<span class="linenos">89</span><span class="w">  </span><span class="n">bitwuzla_delete</span><span class="p">(</span><span class="n">bitwuzla</span><span class="p">);</span>
<span class="linenos">90</span><span class="w">  </span><span class="n">bitwuzla_options_delete</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
<span class="linenos">91</span>
<span class="linenos">92</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">93</span><span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../cpp/term_creation.html" class="btn btn-neutral float-left" title="Term Creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="interface.html" class="btn btn-neutral float-right" title="C Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, the authors of Bitwuzla.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>